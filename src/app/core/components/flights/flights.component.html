<app-booking-dialogue [isOpen]="isBookingDialogueOpen" (openChangeEvent)="closeBookingDialogue()"/>
<form class="search" [formGroup]="routeForm" (ngSubmit)="onSubmit()">
  <select formControlName="from">
    <option disabled [ngValue]="null">Where from?</option>
    @for (planet of planets.action$ | async; track planet) {
      <option [disabled]="isSelectedPlanet(planet, 'from')">{{planet}}</option>
    }
  </select>
  <span class="gap search__arrows">
    <span class="arrows__piece">
      <svg class="arrows__svg" width="24" height="24" viewBox="0 0 24 24" focusable="false"><path d="M17 4l-1.41 1.41L18.17 8H11v2h7.17l-2.58 2.59L17 14l5-5-5-5zM7 20l1.41-1.41L5.83 16H13v-2H5.83l2.58-2.59L7 10l-5 5 5 5z"></path></svg></span>
    </span>
  <select formControlName="to">
    <option disabled [ngValue]="null">Where to?</option>
    @for (planet of planets.action$ | async; track planet) {
      <option [disabled]="isSelectedPlanet(planet, 'to')">{{planet}}</option>
    }
  </select>
  <span class="gap"></span>
  <button class="search__submit" type="submit">
    Explore
  </button>
</form>
<select>
  <option disabled selected>Company</option>
  <option>SpaceX</option>
  <option>Space Odyssey</option>
</select>
<div class="flights">
  <h3>Departing flights</h3>
  <div class="flights__table">
    <div class="table__headers">
      <button class="sort_button departure" type="button">Departure</button>
      <button class="sort_button time" type="button">Time</button>
      <button class="sort_button stops" type="button">Stops</button>
      <button class="sort_button price" type="button">Price</button>
      <span class="gap"></span>
    </div>
    <ul class="table__content">
      @for (offer of routesOffers; track offer.uuid) {
        <li class="table__content__row">
          <div class="company_logo column">
            <img class="company_logo__img" src="">
          </div>
          <div class="time_company column">
            <div class="column__row semibold">{{offer.timeStr}}</div>
            <div class="column__subrow">{{offer.company}}</div>
          </div>
          <div class="duration_route column">
            <div>{{offer.durationStr}}</div>
            <div class="column__subrow">{{offer.from}}-{{offer.to}}</div>
          </div>
          <div class="stops column">{{offer.stopsStr}}</div>
          <div class="price column semibold">â‚¬{{offer.price}}</div>
          <button class="button_open column"
                  [class.open]="isBookingRowOpen"
                  type="button" 
                  (click)="setBookingRowOpen()"
          >
          &triangledown;
        </button>
          <div class="booking_row" [class.open]="isBookingRowOpen">
            <button type="button" class="booking_row__book" (click)="openBookingDialogue()">Select flight</button>
          </div>
        </li>
      }
    </ul>
  </div>
</div>
